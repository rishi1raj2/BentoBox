(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{604:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return h}));var n=o(0),a=o.n(n),i=o(47),r=o(1),s=o(6);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=f(e);if(t){var a=f(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return p(this,o)}}function p(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(p,e);var t,o,n,l=m(p);function p(e,t){var o,n,a,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),o=l.call(this,e,t),n=d(o),i=function(){window.location=s.c[r.E.index]},(a="onClick")in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i,o}return t=p,(o=[{key:"render",value:function(){return a.a.createElement("div",{className:"oops-panel-wrapper"},a.a.createElement("div",{className:"oops-header"},a.a.createElement(i.a,{hideHamburgerIcon:!0})),a.a.createElement("div",{className:"oops-panel-container"},a.a.createElement("div",{className:"oops-panel-background"},a.a.createElement("div",{className:"oops-panel-background-text"},"404")),a.a.createElement("div",{className:"oops-panel-text-section"},a.a.createElement("div",{className:"oops-panel-title"},"Oops! Page not found..."),a.a.createElement("div",{className:"oops-panel-subtitle"},"We’re unable to find the page you’re looking for."),a.a.createElement("button",{onClick:this.onClick,className:"button button-primary"},"Go Home"))))}}])&&c(t.prototype,o),n&&c(t,n),p}(n.Component)},605:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return Y}));var n=o(0),a=o.n(n),i=o(590),r=o.n(i),s=o(47),l=o(7),c=function(e){var t=e.className,o=e.onClick;return a.a.createElement("button",{className:"".concat(t," button  button-primary"),onClick:o},a.a.createElement(l.d,{colorClass:"icon"}))},u=function(e){var t=e.className,o=e.onClick;return a.a.createElement("button",{className:"".concat(t," button button-primary"),onClick:o},a.a.createElement(l.c,{colorClass:"icon"}))},m=o(153),p=o(113),d=o.n(p),f=o(1),h=function(e){var t=e.state.selectedSkin,o=e.state.skins.filter((function(e){return e.skinCD==t}));return a.a.createElement("div",{className:"template-preview"},a.a.createElement("figure",{className:"svg-skin"},a.a.createElement(a.a.Fragment,null,o[0].html&&a.a.createElement("div",{className:e.state.showPreviewLoader?"d-none":"",dangerouslySetInnerHTML:{__html:o[0].html}}),e.state.showPreviewLoader&&a.a.createElement("div",{className:"loading-skin"},a.a.createElement("div",{className:"loading-skin-icon"},a.a.createElement(l.G,null))))),!e.hideCrossIcon&&a.a.createElement("div",{onClick:e.onCrossIconClick,className:"close-icon"},a.a.createElement("button",null,a.a.createElement(l.l,null))))},v=o(345),k=o.n(v),g=o(4),y=function(e){return a.a.createElement("div",{className:"modal-body"},a.a.createElement(k.a,Object(g.w)(e,e.state.formatSelection)))},S=function(e){return a.a.createElement("div",{className:"modal-body"},a.a.createElement("span",{className:"modal-title"},BLDR.Localization.resumeOptionsPopupHeading),a.a.createElement("div",{className:"emailprintdownload-links"},a.a.createElement("a",{onClick:e.openDownloadFormatPopup,className:"epdlink downloadlink active"},a.a.createElement(l.p,null),BLDR.Localization.downloadText),a.a.createElement("a",{onClick:e.onPrintClick,className:"epdlink printlink"},a.a.createElement(l.J,null),BLDR.Localization.printText),a.a.createElement("a",{onClick:e.openEmailPopup,className:"epdlink emaillink"},a.a.createElement(l.A,null),BLDR.Localization.emailText)))},w=o(115),D=o.n(w),b=function(e){return a.a.createElement("div",{className:"email-popup-body"},a.a.createElement(D.a,Object(g.x)(e,e.state.emailTo)),a.a.createElement(D.a,Object(g.x)(e,e.state.emailFrom)),a.a.createElement(D.a,Object(g.x)(e,e.state.emailSubject)),a.a.createElement("div",{className:"email-popup-body-body form-lg form-fields"},a.a.createElement("span",null,BLDR.Localization.emailBodyLabetText),a.a.createElement("textarea",{name:"emailBody",className:"email-body form-lg form-fields",onChange:e.txtOnChange,value:e.state.emailBody,placeholder:BLDR.Localization.emailBodyPlaceholder})))},C=function(e){return a.a.createElement("div",{className:"email-success-popup-body"},a.a.createElement("div",{className:"check-div"},a.a.createElement(l.B,null),"  "),a.a.createElement("div",{className:"email-popup-success-title title"},a.a.createElement("h2",null,BLDR.Localization.emailSentText)),a.a.createElement("p",{className:"success-text"},a.a.createElement("span",null,BLDR.Localization.emailSuccessMessageText)),a.a.createElement("button",{className:"close-btn",onClick:e.closeEmailSentPopup},BLDR.Localization.closeText))};function P(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return E(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function R(e){var t=BLDR.UserClaims&&"Guest"!=BLDR.UserClaims.role,o=e.displayDesktopView?B:T,n=e.displayDesktopView?[{breakpoint:1200,settings:{slidesToShow:1}}]:[{breakpoint:768,settings:{arrows:!1}}],i={centerMode:!0,centerPadding:e.displayDesktopView?"90px":"30px",dots:!1,slidesToScroll:1,arrows:!0,infinite:!1,slidesToShow:e.displayDesktopView?3:1,focusOnSelect:!0,swipeToSlide:!0,variableWidth:!e.displayDesktopView,nextArrow:a.a.createElement(c,null),prevArrow:a.a.createElement(u,null),responsive:n,beforeChange:function(t,o){e.beforeChange(t,o)}};return a.a.createElement("div",{className:"builder-end-panel-panel"},a.a.createElement("div",{className:"".concat(e.state.showNav?"open-sidebar ":"closed-sidebar "," builder-end-panel-header")},a.a.createElement(s.a,{toggleNav:e.toggleSidenav,hideHamburgerIcon:!0,hideLoginIcon:!t,showColorFormattingOptions:!0,selectedColor:e.skinColor,formattingOptionSelected:e.formattingOptionSelected,onColorClick:e.onSkinColorClick,onFormattingOptionClick:e.onFormattingOptionClick,onDownloadClick:e.openDownloadFormatPopup,onEmailClick:e.openEmailPopup,onPrintClick:e.onPrintClick})),a.a.createElement(m.a,L({},e,{isFinalize:!0,showAsModal:!0,toggleNav:e.toggleSidenav,toggleClass:e.state.showNav?"open":"closed",renderModalItemProps:e,showToolTip:!BLDR.IsMobileDevice()&&e.state.showEditMyResumeToolTip,renderToolTipHtml:O,onToolTipClose:e.onEditMyResumeToolTipClose,renderModalItem:BLDR.IsMobileDevice()||BLDR.isIPAD()||!e.state.showNav?void 0:N})),a.a.createElement("div",{className:"".concat(e.state.showNav?"open-sidebar ":"closed-sidebar "," builder-slider-panel")},!e.displayDesktopView&&a.a.createElement("h1",{className:"finalize-page-title"},BLDR.Localization.finalizeHeadingText),a.a.createElement("div",{className:"builder-slider"},a.a.createElement("div",{className:"template-selector-fade-out"}),a.a.createElement(r.a,L({ref:function(t){return e.assignRef("slider",t)}},i,{className:"finalize-slick"}),e.state.skins&&e.state.skins.length>0&&o(e)))),e.state.showPopup&&a.a.createElement(d.a,L({isOpen:!0},e.getPopupProps(e.state.popupName,e)),function(e,t){var o=null;switch(e){case f.I.resumePreview:o=N(t,!0);break;case f.I.downloadFormat:o=a.a.createElement(y,t);break;case f.I.mobileResumeOptions:o=a.a.createElement(S,t);break;case f.I.email:o=a.a.createElement(b,t);break;case f.I.emailSent:o=a.a.createElement(C,t)}return o}(e.state.popupName,e)),a.a.createElement("div",{className:"".concat(e.state.showNav?"open-sidebar ":"closed-sidebar "," builder-end-footer")},a.a.createElement("button",{className:"button button-default",onClick:e.toggleSidenav},a.a.createElement(l.q,{colorClass:"icon"}),"Edit ",a.a.createElement("span",{className:"d-none-sm"},"  ",BLDR.Localization.resume_Text)),a.a.createElement("button",{className:"button button-primary",onClick:e.onNextClick},a.a.createElement(l.r,null),BLDR.Localization.saveAndNextText)))}function N(e,t){return a.a.createElement(h,L({},e,{hideCrossIcon:t,onCrossIconClick:t?null:e.closeResumePreviewPopup}))}function O(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("h4",null,BLDR.Localization.editMyResumeToolTipHeading),a.a.createElement("p",null,BLDR.Localization.editMyResumeToolTipBody))}function T(e){var t=e.state.skins,o=e.state.selectedSkin;return t.map((function(t,n){return a.a.createElement("div",{className:"skin-wrapper",key:n,"skin-cd":t.skinCD},a.a.createElement("div",{className:"skin-template"},a.a.createElement("div",{className:"skin-title"},t.name),a.a.createElement("div",{className:"template-label"},a.a.createElement("div",{className:"label-wrapper"},a.a.createElement("span",{className:"label-prefix"},BLDR.Localization.availableText),a.a.createElement("div",{className:"lableType"},BLDR.Localization.resumeFormatText))),a.a.createElement("div",{className:"skin-image-prev",onClick:t.skinCD==o&&t.html?e.openResumePreviewPopup:null},t.skinCD!=o?a.a.createElement(l.U,null):a.a.createElement(a.a.Fragment,null,t.html&&a.a.createElement("div",{className:"skin-container ".concat(e.state.showLoader?"d-none":""),dangerouslySetInnerHTML:{__html:t.html}}),e.state.showLoader&&a.a.createElement("div",{className:"loading-skin"},a.a.createElement("div",{className:"loading-skin-icon"},a.a.createElement(l.G,null))))),a.a.createElement("div",{className:"skin-desc"},a.a.createElement("p",null,t.description))))}))}function B(e){var t=P(e.state.skins),o=e.state.selectedSkin;return t.push({}),t.push({}),t.map((function(t,n){return n<=e.state.skins.length-1?a.a.createElement("div",{className:"skin-wrapper",key:n,"skin-cd":t.skinCD},a.a.createElement("div",{className:"skin-template"},a.a.createElement("div",{className:"skin-title"},t.name),a.a.createElement("div",{className:"template-label"},a.a.createElement("div",{className:"label-wrapper"},a.a.createElement("span",{className:"label-prefix"},BLDR.Localization.availableText),a.a.createElement("div",{className:"lableType"},BLDR.Localization.resumeFormatText))),a.a.createElement("div",{className:"skin-image-prev"},a.a.createElement("div",{className:"skin-ctnr-overlay",onClick:t.skinCD==o&&t.html?e.openResumePreviewPopup:null}),a.a.createElement("span",{className:"icon-zoom"}," ",a.a.createElement(l.X,null)),a.a.createElement(a.a.Fragment,null,t.html&&a.a.createElement("div",{className:"skin-container ".concat(t.showLoader?"d-none":""),dangerouslySetInnerHTML:{__html:t.html}}),t.showLoader&&a.a.createElement("div",{className:"loading-skin"},a.a.createElement("div",{className:"loading-skin-icon"},a.a.createElement(l.G,null))))))):a.a.createElement("div",{key:n})}))}var I=o(48),F=o.n(I),x=o(2),U=o(6);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function W(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function A(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?W(Object(o),!0).forEach((function(t){Z(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):W(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function z(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||H(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){if(e){if("string"==typeof e)return J(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function V(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=$(e);if(t){var a=$(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return G(this,o)}}function G(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return X(e)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(r,e);var t,o,n,i=q(r);function r(e,t){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),Z(X(o=i.call(this,e,t)),"assignRef",(function(e,t){null!=t&&(o.refObj[e]=t)})),Z(X(o),"setResumePreviewDimension",(function(e,t,n){setTimeout((function(){var a=t||document.getElementById("document"),i=e||document.querySelector(".skin-container"),r=document.querySelector(".cancel-handler .template-preview"),s=0;s="MLG4"==o.state.selectedSkin?50:"MLG5"==o.state.selectedSkin?6:"MLN4"==o.state.selectedSkin?20:0,a&&i&&(o.setState(n?{showPreviewLoader:!1}:{showLoader:!1},(function(){var e=i.offsetWidth/a.offsetWidth;a.style.transform="scale(".concat(e,")"),a.style.transformOrigin="0 0"})),setTimeout((function(){if(r){var e=a.offsetHeight*(i.offsetWidth/a.offsetWidth);r.style.height="".concat(e+s,"px")}}),500))}),300)})),Z(X(o),"getSkinsObject",(function(){var e=[],t=BLDR.Skins;return t&&t.length>0&&t.map((function(t){e.push({skinCD:t.skinCD,html:"",name:t.name,description:t.description,showLoader:!0})})),e})),Z(X(o),"toggleSidenav",(function(e){if(o.props.commonActions.SetCommonSetting(f.T.fromFinalize,!0),o.state.showNav){if(e&&e.target)if(g.D(e.target,"svg-skin"))return;o.setState({showNav:!1,showEditMyResumeToolTip:!1}),o.props.commonActions.RemoveSettingName(f.T.showSideNav),document.querySelector(".cancel-handler").scrollTop=0}else{o.props.commonActions.SetCommonSetting(f.T.showSideNav,!0);var t="1"===g.B(f.f.EditResumeViewed);o.setState({showNav:!0,showPreviewLoader:!0,showEditMyResumeToolTip:!t},(function(){t||BLDR.IsMobileDevice()||o.props.userActions.SaveUserPreference(o.user.UserUID,f.f.EditResumeViewed,"1",BLDR.PortalSettings.ConfigurePortalCd),setTimeout((function(){var e=document.querySelector(".svg-skin"),t=document.querySelector(".svg-skin #document")?document.querySelector(".svg-skin #document"):null;o.setResumePreviewDimension(e,t,!0)}),1)}))}})),Z(X(o),"onNextClick",(function(e){if(e.preventDefault(),BLDR.IsMobileDevice())o.openResumeOptionsPopup();else if(null!=o.state.isPremiumUser&&null!=o.state.isPremiumUser){var t="";"guest"==o.user.Role.toLowerCase()?(t=U.c[f.E.signup]+"?referrer="+encodeURIComponent(window.BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id),o.props.history.push(t)):(t=o.state.isPremiumUser?BLDR.Paths.BaseUrl:BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id,setTimeout((function(){window.location.href=t}),10))}})),Z(X(o),"beforeChange",(function(e,t){var n=o.state.skins[t].skinCD,a=o.state.skins.findIndex((function(e){return e.skinCD==o.state.selectedSkin})),i=o.getSelectedFormattingOption(),r=!1;o.displayDesktopView||i===f.W.default||(r=!0),setTimeout((function(){o.setState({selectedSkin:n}),r&&o.setState({skins:F()(o.state.skins,Z({},a,{$merge:{html:""}}))})}),100)})),Z(X(o),"openResumePreviewPopup",(function(e){e&&e.stopPropagation(),o.setState({showPopup:!0,popupName:f.I.resumePreview,showPreviewLoader:!0},(function(){setTimeout((function(){var e=document.querySelector(".svg-skin"),t=document.querySelector(".svg-skin #document")?document.querySelector(".svg-skin #document"):null;o.setResumePreviewDimension(e,t,!0)}),10)}))})),Z(X(o),"closeResumePreviewPopup",(function(){o.setState({showPopup:!1,popupName:""}),o.props.commonActions.RemoveSettingName(f.T.showSideNav)})),Z(X(o),"setMobileTemplate",(function(e){o.setState({showLoader:!0});var t=o.state.skins.findIndex((function(t){return t.skinCD==e})),n=o.state.skins[t].html,a=JSON.parse(JSON.stringify(o.props.document)),i=o.getColorForColorSelector(),r=o.getSelectedFormattingOption();BLDR.loadTemplateFromSkinWithPromise(e).then((function(){var t=g.P(a,e);t=g.L(t,f.X.SDCL,i,BLDR.getTemplateFromSkin),t=o.updateDocumentWithFormatOptions(t,e,r),n?(o.props.documentActions.UpdateDocument(o.user.UserUID,t),o.setState({selectedSkin:e},(function(){setTimeout((function(){o.setResumePreviewDimension()}),1)}))):o.updateDocumentAndGetLatestHtml(t)}))})),Z(X(o),"setMultipleDesktopTemplates",(function(e,t,n,a,i,r){var s=o.state.skins.findIndex((function(t){return t.skinCD==e}));!n||null==a&&null==a?!i||null==r&&null==r?o.setDesktopTemplate(e,t):o.setDesktopTemplateWithFormattingOption(e,r):o.setDesktopTemplateWithSkinColor(e,a);for(var l=s>=2?s-2:0,c=s>=2?s+2>BLDR.Skins.length-1?BLDR.Skins.length-1:s+2:4,u=l;u<=c;u++)s!=u&&(!n||null==a&&null==a?!i||null==r&&null==r?o.setDesktopTemplate(BLDR.Skins[u].skinCD):o.setDesktopTemplateWithFormattingOption(BLDR.Skins[u].skinCD,r):o.setDesktopTemplateWithSkinColor(BLDR.Skins[u].skinCD,a));setTimeout((function(){var e=z(BLDR.Skins);e.splice(l,c-l+1);var t,s=function(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=H(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,s=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==o.return||o.return()}finally{if(s)throw i}}}}(e);try{for(s.s();!(t=s.n()).done;){var u=t.value;!n||null==a&&null==a?!i||null==r&&null==r?o.setDesktopTemplate(u.skinCD):o.setDesktopTemplateWithFormattingOption(u.skinCD,r):o.setDesktopTemplateWithSkinColor(u.skinCD,a)}}catch(e){s.e(e)}finally{s.f()}}),3e3),window.addEventListener("resize",o.rescaleVisibleSkins)})),Z(X(o),"setDesktopTemplate",(function(e){var t=o.state.skins.findIndex((function(t){return t.skinCD==e})),n=o.state.skins[t].html,a=JSON.parse(JSON.stringify(o.props.document)),i=o.getColorForColorSelector(),r=o.getSelectedFormattingOption();BLDR.loadTemplateFromSkinWithPromise(e).then((function(){var s=g.P(a,e);if(s=o.updateDocumentWithFormatOptions(s,e,r),s=g.L(s,f.X.SDCL,i,BLDR.getTemplateFromSkin),n){o.props.documentActions.UpdateDocument(o.user.UserUID,s);var l="",c="";o.state.skins&&o.state.skins.length>0&&(t-1>-1&&(l=o.state.skins[t-1].skinCD),t+1<o.state.skins.length&&(c=o.state.skins[t+1].skinCD)),o.setState({selectedSkin:e},(function(){setTimeout((function(){o.setResumeDimensionInCarousel(e,t),x.CommonHelper.isNullOrWhitespace(l)||o.setResumeDimensionInCarousel(l,t-1),x.CommonHelper.isNullOrWhitespace(c)||o.setResumeDimensionInCarousel(c,t+1)}),1)}))}else o.getLatestHtmlFromDocument(s)}))})),Z(X(o),"setDesktopTemplateWithSkinColor",(function(e,t){var n=JSON.parse(JSON.stringify(o.props.document)),a=o.getSelectedFormattingOption();if(n=g.P(n,e),a!==f.W.default){var i=o.getFormatOptionDocStyles(n,e,a);n=x.DocumentHelper.updateDocumentWithDocStyles(n,i)}n=g.L(n,f.X.SDCL,t,BLDR.getTemplateFromSkin),e===o.state.selectedSkin&&o.props.documentActions.UpdateDocument(o.user.UserUID,n),o.getLatestHtmlFromDocument(n)})),Z(X(o),"setDesktopTemplateWithFormattingOption",(function(e,t){var n=JSON.parse(JSON.stringify(o.props.document));n=o.updateDocumentWithFormatOptions(n,e,t),e===o.state.selectedSkin&&o.props.documentActions.UpdateDocument(o.user.UserUID,n),o.getLatestHtmlFromDocument(n)})),Z(X(o),"rescaleVisibleSkins",(function(){var e=o.state.selectedSkin,t=o.state.skins.findIndex((function(t){return t.skinCD==e}));o.setResumeDimensionInCarousel(e,t);for(var n=t>=2?t-2:0,a=t>=2?t+2>BLDR.Skins.length-1?BLDR.Skins.length-1:t+2:4,i=n;i<=a;i++)t!=i&&o.setResumeDimensionInCarousel(BLDR.Skins[i].skinCD,i)})),Z(X(o),"setResumeDimensionInCarousel",(function(e,t){var n=window.document.querySelector("[skin-cd="+e+"]"),a=null==n?void 0:n.querySelector("#document"),i=null==n?void 0:n.querySelector(".skin-container");setTimeout((function(){var e=a||document.getElementById("document"),n=i||document.querySelector(".skin-container");if(e&&n){var r=F()(o.state.skins,Z({},t,{$merge:{showLoader:!1}}));o.setState({skins:r},(function(){var t=n.offsetWidth/e.offsetWidth;e.style.transform="scale(".concat(t,")"),e.style.transformOrigin="0 0"}))}}),50)})),Z(X(o),"saveLatestJobTitlePreference",(function(e){var t="";if(e&&e.sections){var n=x.CommonHelper.getSectionByCD(e.sections,x.TypeCodes.sectionTypeCd.Experience);null!=n&&null!=n.paragraphs&&n.paragraphs.length>0&&n.paragraphs[0].docDatas&&n.paragraphs[0].docDatas.length>0&&(t=x.CommonHelper.getCharValue(n.paragraphs[0].docDatas,x.TypeCodes.fieldCd.JobTitle))}o.props.userActions.SaveUserPreference(o.user.UserUID,f.f.PreferenceJobtitle,t,BLDR.PortalSettings.ConfigurePortalCd)})),Z(X(o),"saveJobLocationUserPreference",(function(e){var t=x.CommonHelper.getSectionByCD(e.sections,x.TypeCodes.sectionTypeCd.Contact);if(t){var n=g.r(t);x.CommonHelper.isNullOrWhitespace(n)||o.props.userActions.SaveUserPreference(o.props.document.userId,f.f.PreferenceJobLocation,n,BLDR.PortalSettings.ConfigurePortalCd)}})),Z(X(o),"onSkinColorClick",(function(e){if(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-color");if(o.getColorForColorSelector()!=t){for(var n=JSON.parse(JSON.stringify(o.props.document)),a=JSON.parse(JSON.stringify(o.state.skins)),i=0;i<a.length;i++)x.CommonHelper.isNullOrWhitespace(a[i].html)||(a=F()(a,Z({},i,{$merge:{html:""}})));o.setState({showLoader:!0,skins:a}),n=g.L(n,f.X.SDCL,t,BLDR.getTemplateFromSkin),o.updateDocumentAndGetLatestHtml(n)}}})),Z(X(o),"onMultipleSkinsColorClick",(function(e){if(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-color");if(o.getColorForColorSelector()!=t){for(var n=JSON.parse(JSON.stringify(o.state.skins)),a=0;a<n.length;a++)x.CommonHelper.isNullOrWhitespace(n[a].html)||(n=F()(n,Z({},a,{$merge:{html:"",showLoader:!0}})));o.setState({skins:n,showPreviewLoader:!0}),o.setMultipleDesktopTemplates(o.state.selectedSkin,!1,!0,t)}}})),Z(X(o),"onEditMyResumeToolTipClose",(function(){o.setState({showEditMyResumeToolTip:!1})})),Z(X(o),"onFormattingOptionClick",(function(e,t){if(e&&e.preventDefault(),t!==o.getSelectedFormattingOption()){o.setState({showLoader:!0});var n=o.updateDocumentWithFormatOptions(o.props.document,o.state.selectedSkin,t);o.updateDocumentAndGetLatestHtml(n)}})),Z(X(o),"onMultipleSkinsFormattingOptionClick",(function(e,t){if(e&&e.preventDefault(),t!==o.getSelectedFormattingOption()){for(var n=JSON.parse(JSON.stringify(o.state.skins)),a=0;a<n.length;a++)x.CommonHelper.isNullOrWhitespace(n[a].html)||(n=F()(n,Z({},a,{$merge:{html:"",showLoader:!0}})));o.setState({skins:n,showPreviewLoader:!0}),o.setMultipleDesktopTemplates(o.state.selectedSkin,!1,!1,null,!0,t)}})),Z(X(o),"updateDocumentWithFormatOptions",(function(e,t,n){var a=JSON.parse(JSON.stringify(e));if(null==n&&(n=f.W.default),f.V.find((function(e){return e.SkinCd==t}))){if(n===f.W.default||o.state.selectedSkin!=t){var i=o.getColorForColorSelector();a=g.P(a,t),x.CommonHelper.isNullOrWhitespace(i)||(a=g.L(a,f.X.SDCL,i,BLDR.getTemplateFromSkin))}if(n!==f.W.default){var r=o.getFormatOptionDocStyles(a,t,n);a=x.DocumentHelper.updateDocumentWithDocStyles(a,r)}}return a})),Z(X(o),"getFormatOptionDocStyles",(function(e,t,o){var n=JSON.parse(JSON.stringify(e)).docStyles,a=f.V.find((function(e){return e.SkinCd==t}))[o],i=function(e){n.find((function(t){return t.styleTypeCD==e})).value=a[e]};for(var r in a)i(r);return n})),Z(X(o),"updateDocumentAndGetLatestHtml",(function(e){var t=e.skinCD,n="",a=o.state.skins.findIndex((function(e){return e.skinCD==t})),i=o.state.skins[a].name,r=o.state.skins[a].description;o.props.documentActions.UpdateDocument(o.user.UserUID,e).then((function(e){if(e&&e.id){var s={userId:o.user.UserUID,documentId:e.id,portalId:BLDR.Portal.portalId,fileType:"oRIG"};o.props.documentActions.getHtml(s).then((function(e){if(e){var s=(new DOMParser).parseFromString(e,"text/html");s&&s.getElementById("document")&&s.getElementById("document").className&&s.getElementById("document").className.indexOf(t.toLowerCase())>-1&&(n=e);var l=F()(o.state.skins,Z({},a,{$set:{skinCD:t,html:n,name:i,description:r}}));o.setState({skins:l},(function(){setTimeout((function(){if(o.setResumePreviewDimension(),o.state.showNav){var e=window.document.querySelector(".svg-skin"),t=window.document.querySelector(".svg-skin #document")?window.document.querySelector(".svg-skin #document"):null;o.setResumePreviewDimension(e,t,!0)}}),1)}))}}))}}))})),Z(X(o),"getLatestHtmlFromDocument",(function(e){var t="",n=e.skinCD,a=o.state.skins.findIndex((function(e){return e.skinCD==n})),i=o.state.skins[a].name,r=o.state.skins[a].description;o.props.documentActions.getDocumentHtml(e,!1).then((function(e){if(e){var s=(new DOMParser).parseFromString(e,"text/html");t=s&&s.getElementById("document")&&s.getElementById("document").className&&s.getElementById("document").className.indexOf(n.toLowerCase())>-1?e:"";var l=F()(o.state.skins,Z({},a,{$merge:{skinCD:n,html:t,name:i,description:r}}));o.setState({skins:l},(function(){setTimeout((function(){if(o.setResumeDimensionInCarousel(n,a),o.state.showNav&&n===o.state.selectedSkin){var e=window.document.querySelector(".svg-skin"),t=window.document.querySelector(".svg-skin #document")?window.document.querySelector(".svg-skin #document"):null;o.setResumePreviewDimension(e,t,!0)}}),1)}))}}))})),Z(X(o),"getColorForColorSelector",(function(){var e=g.o(o.props.document.docStyles,f.X.SDCL);x.CommonHelper.isNullOrWhitespace(e)||(f.r.some((function(t){return t.value.toLowerCase()==e.toLowerCase()}))||(e=""));return e})),Z(X(o),"getSelectedFormattingOption",(function(){var e=o.props.document.skinCD,t=f.W.default,n=JSON.parse(JSON.stringify(o.props.document.docStyles)),a=f.V.find((function(t){return t.SkinCd==e}));return a&&a[f.W.small]&&g.e(a[f.W.small],n,!0)?t=f.W.small:a&&a[f.W.large]&&g.e(a[f.W.large],n,!0)&&(t=f.W.large),t})),Z(X(o),"onSelectClick",(function(e){e&&e.value&&o.setState({formatSelection:A(A({},o.state.formatSelection),{},{value:e.value})})})),Z(X(o),"txtOnChange",(function(e){if(e&&e.target){var t=e.target.value;switch(e.target&&e.target.name?e.target.name:e.name){case"emailSubject":o.setState({emailSubject:A(A({},o.state.emailSubject),{},{value:t})});break;case"emailBody":o.setState({emailBody:t});break;case"emailTo":o.setState({emailTo:A(A({},o.state.emailTo),{},{value:t})});break;case"emailFrom":o.setState({emailFrom:A(A({},o.state.emailFrom),{},{value:t})})}}})),Z(X(o),"txtOnBlur",(function(e){if(e&&e.target){var t=e.target.value;switch(e.target&&e.target.name?e.target.name:e.name){case"emailTo":o.validateEmailTo(t);break;case"emailFrom":o.validateEmailFrom(t)}}})),Z(X(o),"validateEmailFrom",(function(e){var t=g.Z(e,BLDR.Localization.emailToFromErrorMessage,BLDR.Localization.emailCorrectFormatErrorMessage);return o.setState({emailFrom:A(A({},o.state.emailFrom),{},{value:e,isValid:t.isValid,showError:!t.isValid,errorMessage:t.errorMessage})}),t.isValid})),Z(X(o),"validateEmailTo",(function(e){var t=!0,n="";x.CommonHelper.isNullOrWhitespace(e)?(t=!1,n=BLDR.Localization.emailToFromErrorMessage):(e.split(",").map((function(e){g.Z(e.trim()).isValid||(t=!1)})),t||(n=BLDR.Localization.emailCorrectFormatErrorMessage));return o.setState({emailTo:A(A({},o.state.emailTo),{},{value:e,isValid:t,showError:!t,errorMessage:n})}),t})),Z(X(o),"openDownloadFormatPopup",(function(e){e&&e.stopPropagation(),o.setState({showPopup:!0,popupName:f.I.downloadFormat,formatSelection:A(A({},o.state.formatSelection),{},{value:f.R.pdf})})})),Z(X(o),"closeDownloadFormatPopup",(function(){o.setState({showPopup:!1,popupName:"",formatSelection:A(A({},o.state.formatSelection),{},{value:f.R.pdf})})})),Z(X(o),"onDownloadConfirmClick",(function(e){e&&e.stopPropagation(),o.closeDownloadFormatPopup();var t=o.state.formatSelection.value,n=o.user.Role.toLowerCase();x.CommonHelper.isNullOrWhitespace(t)||(t===f.R.text?o.downloadResume(f.R.text,!1,"guest"==n):"guest"==n?(g.R(o.props.document.id,f.Z.download,t),o.props.history.push(U.c[f.E.signup]+"?referrer="+encodeURIComponent(window.BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id))):o.state.isPremiumUser?o.downloadResume(t,!1):(g.R(o.props.document.id,f.Z.download,t),setTimeout((function(){window.location.href=BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id}),10)))})),Z(X(o),"downloadResume",(function(e,t,n){var a=o.user.UserUID,i=o.props.document.id,r="".concat(x.CommonHelper.isNullOrWhitespace(o.props.document.name)?BLDR.Localization.resume_Label:o.props.document.name,".").concat(e.toUpperCase()),s=BLDR.Portal.portalId,l=BLDR.styleSheetName;if(BLDR.isMultiColumnSkin(o.state.selectedSkin)&&(l=BLDR.multiColumnStyleSheetName),e===f.R.text)if(n){var c={userId:o.user.UserUID,documentId:i,portalId:BLDR.Portal.portalId,fileType:"oRIG",isText:!0};o.props.documentActions.getHtml(c).then((function(e){e&&g.N(r,e)}))}else o.props.documentActions.DownloadDocument(a,i,s,"txt","eXPT","RBtoText",!0,!1).then((function(e){e&&(window.location.href=e)}));else if(t){var u=g.O("",800,640,"location=No,scrollbars=Yes,toolbar=No,resizable=No,directories=No,status=No,menubar=No,hotkeys=No,center=Yes",!1);o.props.documentActions.DownloadDocument(a,i,s,"pdf","eXPT",l,!0,!0).then((function(e){e&&(u.location=e)}))}else o.props.documentActions.DownloadDocument(a,i,s,e,"eXPT",l,!0,!1).then((function(e){e&&(window.location.href=e)}))})),Z(X(o),"openResumeOptionsPopup",(function(){o.setState({showPopup:!0,popupName:f.I.mobileResumeOptions})})),Z(X(o),"closeResumeOptionsPopup",(function(){o.setState({showPopup:!1,popupName:""})})),Z(X(o),"openEmailPopup",(function(e){e&&e.stopPropagation(),"guest"==o.user.Role.toLowerCase()?(g.R(o.props.document.id,f.Z.email),o.props.history.push(U.c[f.E.signup]+"?referrer="+encodeURIComponent(window.BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id))):o.state.isPremiumUser?o.setState({showPopup:!0,popupName:f.I.email,emailTo:f.z,emailFrom:A(A({},f.x),{},{value:g.z(),isValid:!0}),emailSubject:f.y,emailBody:""}):(g.R(o.props.document.id,f.Z.email),setTimeout((function(){window.location.href=BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id}),10))})),Z(X(o),"closeEmailPopup",(function(){o.setState({showPopup:!1,popupName:"",emailTo:f.z,emailFrom:f.x,emailSubject:f.y,emailBody:""})})),Z(X(o),"onEmailConfirmClick",(function(e){e&&e.stopPropagation();var t=o.validateEmailFrom(o.state.emailFrom.value),n=o.validateEmailTo(o.state.emailTo.value);t&&n&&(o.closeEmailPopup(),o.openEmailSentPopup(),o.sendEmail())})),Z(X(o),"sendEmail",(function(){var e=BLDR.styleSheetName;BLDR.isMultiColumnSkin(o.state.selectedSkin)&&(e=BLDR.multiColumnStyleSheetName);var t="\n    <h1 style='color:#f96d1b;font-size:40px;font-weight:100;font-family: sans-serif;line-height:0px;'>\n    Resume<b style='font-weight:800;'>Genius</b></h1><p style='color:gray;'>The world's smartest resume builder</p>"+(x.CommonHelper.isNullOrWhitespace(o.state.emailBody)?"":o.state.emailBody),n=x.CommonHelper.isNullOrWhitespace(o.state.emailSubject.value)?BLDR.Localization.noSubjectText:o.state.emailSubject.value,a=x.CommonHelper.isNullOrWhitespace(o.state.emailFrom.value)?g.z(o.props.document):o.state.emailFrom.value,i=o.state.emailTo.value,r={documentId:o.props.document.id,userId:o.user.UserUID,portalId:BLDR.Portal.portalId,displayName:a,styleSheetName:e,frmEmail:a,fileFormatType:"PDF",toEmail:i,subject:n,mailBody:t,emailName:"EmailResume"};o.props.documentActions.EmailDocument(r)})),Z(X(o),"openEmailSentPopup",(function(){o.setState({showPopup:!0,popupName:f.I.emailSent})})),Z(X(o),"closeEmailSentPopup",(function(){o.setState({showPopup:!1,popupName:""})})),Z(X(o),"onPrintClick",(function(e){e&&e.stopPropagation(),o.closeResumeOptionsPopup(),"guest"==o.user.Role.toLowerCase()?(g.R(o.props.document.id,f.Z.print,f.R.pdf),o.props.history.push(U.c[f.E.signup]+"?referrer="+encodeURIComponent(window.BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id))):o.state.isPremiumUser?o.downloadResume(f.R.pdf,!1):(g.R(o.props.document.id,f.Z.print,f.R.pdf),setTimeout((function(){window.location.href=BLDR.Paths.SellPageUrl+"?docid="+o.props.document.id}),10))})),Z(X(o),"getPopupProps",(function(e){var t=A({},f.J[e]);switch(e){case f.I.resumePreview:t.closeModal=o.closeResumePreviewPopup;break;case f.I.downloadFormat:t.onPrimaryClick=o.closeDownloadFormatPopup,t.onSecondaryClick=o.onDownloadConfirmClick,t.closeModal=o.closeDownloadFormatPopup;break;case f.I.mobileResumeOptions:t.closeModal=o.closeResumeOptionsPopup;break;case f.I.email:t.onPrimaryClick=o.closeEmailPopup,t.onSecondaryClick=o.onEmailConfirmClick,t.closeModal=o.closeEmailPopup;break;case f.I.emailSent:t.closeModal=o.closeEmailSentPopup}return t})),o.refObj={},o.displayDesktopView=!BLDR.isIPAD()&&!BLDR.IsMobileDevice(),document.body.classList.add("finalize-page"),o.displayDesktopView&&document.body.classList.add("desktop-finalize-view"),o.user=g.A();var n=o.getSkinsObject().findIndex((function(t){return t.skinCD==e.document.skinCD}))>-1?e.document.skinCD:BLDR.defaultSkin,a=!1,s=x.CommonHelper.getStorageValue("common");if(null!=s&&s.length>0){var l=s.find((function(e){return e[f.T.showSideNav]}));l&&(a=l[f.T.showSideNav])}return o.state={showNav:a,skins:o.getSkinsObject(),selectedSkin:n,popupName:"",showPopup:!1,isPremiumUser:!1,showLoader:!0,showPreviewLoader:!0,showEditMyResumeToolTip:!1,formatSelection:f.C,emailTo:f.z,emailFrom:f.x,emailSubject:f.y,emailBody:""},o}return t=r,(o=[{key:"componentDidMount",value:function(){var e=this,t=this.state.selectedSkin,o=this.state.skins.findIndex((function(e){return e.skinCD==t}));this.displayDesktopView?this.setMultipleDesktopTemplates(t,!0):this.setMobileTemplate(t,!0),this.refObj.slider.slickGoTo(o,!0),this.props.userActions.IsPremiumUser(this.user.UserUID,BLDR.PortalSettings.ConfigureProductId).then((function(t){e.setState({isPremiumUser:t})})),this.props.saveUserStages(f.ab.Finalize),this.saveLatestJobTitlePreference(this.props.document),this.saveJobLocationUserPreference(this.props.document),document.body.classList.remove("no-ads")}},{key:"componentDidUpdate",value:function(e,t){var o=this.state.selectedSkin;o!=t.selectedSkin&&(this.displayDesktopView?this.setDesktopTemplate(o):this.setMobileTemplate(o))}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("finalize-page"),document.body.classList.remove("desktop-finalize-view"),document.body.classList.remove("popup-body-no-scroll"),window.removeEventListener("resize",this.rescaleVisibleSkins)}},{key:"render",value:function(){this.state.showNav&&!document.body.classList.contains("popup-body-no-scroll")?document.body.classList.add("popup-body-no-scroll"):this.state.showNav||document.body.classList.remove("popup-body-no-scroll");var e=this.displayDesktopView?this.onMultipleSkinsColorClick:this.onSkinColorClick,t=this.displayDesktopView?this.onMultipleSkinsFormattingOptionClick:this.onFormattingOptionClick;return a.a.createElement(R,M({},this.props,{state:this.state,assignRef:this.assignRef,toggleSidenav:this.toggleSidenav,onNextClick:this.onNextClick,beforeChange:this.beforeChange,openResumePreviewPopup:this.openResumePreviewPopup,closeResumePreviewPopup:this.closeResumePreviewPopup,onEditMyResumeToolTipClose:this.onEditMyResumeToolTipClose,displayDesktopView:this.displayDesktopView,skinColor:this.getColorForColorSelector(),onSkinColorClick:e,formattingOptionSelected:this.getSelectedFormattingOption(),onFormattingOptionClick:t,getPopupProps:this.getPopupProps,onSelectClick:this.onSelectClick,txtOnChange:this.txtOnChange,txtOnBlur:this.txtOnBlur,openDownloadFormatPopup:this.openDownloadFormatPopup,openEmailPopup:this.openEmailPopup,closeEmailSentPopup:this.closeEmailSentPopup,onPrintClick:this.onPrintClick}))}}])&&V(t.prototype,o),n&&V(t,n),r}(n.Component)}}]);